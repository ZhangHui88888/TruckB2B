# XKTRUCK éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£åŒ…å«é¡¹ç›®éƒ¨ç½²æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬è´¦å·é…ç½®ã€éƒ¨ç½²æ­¥éª¤å’Œè¿ç»´æŒ‡å—ã€‚

> **å¿«é€Ÿå¯¼èˆª**
> - [è´¦å·é…ç½®](#ä¸€è´¦å·æ³¨å†Œæ— éœ€æä¾›å¯†ç )
> - [éƒ¨ç½²æ­¥éª¤](#åä¸€éƒ¨ç½²æ­¥éª¤)
> - [æ—¥å¸¸è¿ç»´](#åäºŒæ—¥å¸¸è¿ç»´)

---

## ä¸€ã€è´¦å·æ³¨å†Œï¼ˆæ— éœ€æä¾›å¯†ç ï¼‰

ä»¥ä¸‹æœåŠ¡éœ€è¦ä½ è‡ªè¡Œæ³¨å†Œè´¦å·ï¼Œæ³¨å†Œååœ¨å„å¹³å°è·å– API Keyï¼š

| æœåŠ¡ | æ³¨å†Œåœ°å€ | ç”¨é€” |
|------|----------|------|
| Cloudflare | https://dash.cloudflare.com/sign-up | å‰ç«¯æ‰˜ç®¡ã€Workersã€R2å­˜å‚¨ |
| Supabase | https://supabase.com | å‘é‡æ•°æ®åº“ã€çŸ¥è¯†åº“ |
| Resend | https://resend.com | é‚®ä»¶é€šçŸ¥ |
| OpenAI | https://platform.openai.com | AI å¤§æ¨¡å‹ |
| Meta Business | https://business.facebook.com | WhatsApp Business API |

---

## äºŒã€éœ€è¦æä¾›çš„ API Keys / Tokens

æ³¨å†Œè´¦å·åï¼Œè¯·åœ¨å„å¹³å°è·å–ä»¥ä¸‹å¯†é’¥ï¼š

### 1. Cloudflare
- [x] **Account ID** - åœ¨ Cloudflare æ§åˆ¶å°å³ä¾§æ å¯è§
- [x] **API Token** - ç”¨äºéƒ¨ç½² Workers å’Œ R2

**å·²è·å–ï¼š**
- è´¦å·ï¼šharry.zhang592802@gmail.com
- Account IDï¼š4f2c0fb4069b0066d6158069fd309fb3
- API Tokenï¼šNj--6YcpOEpAWQg-w8cNFiUJJjLjCpU7ShZkBuZd

#### è·å– API Token æ­¥éª¤ï¼š
1. ç™»å½• Cloudflare æ§åˆ¶å°ï¼šhttps://dash.cloudflare.com
2. ç‚¹å‡»å³ä¸Šè§’ **Profile** å›¾æ ‡ â†’ **My Profile**
3. å·¦ä¾§èœå•é€‰æ‹© **API Tokens**
4. ç‚¹å‡» **Create Token**
5. æ‰¾åˆ° **Edit Cloudflare Workers** æ¨¡æ¿ï¼Œç‚¹å‡» **Use template**
6. **Permissions** éƒ¨åˆ†ä¿æŒé»˜è®¤ï¼ˆå·²åŒ…å« Workersã€R2 ç­‰æƒé™ï¼‰
7. **Zone Resources** é€‰æ‹© **All zones**ï¼ˆæˆ–æŒ‡å®šåŸŸåï¼‰
8. ç‚¹å‡» **Continue to summary** â†’ **Create Token**
9. âš ï¸ **ç«‹å³å¤åˆ¶ä¿å­˜ Token**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

#### è·å– Account ID æ­¥éª¤ï¼š
1. å›åˆ° Cloudflare ä¸»é¡µ
2. ç‚¹å‡»å·¦ä¾§ä»»æ„ Workers é¡¹ç›®æˆ–åŸŸå
3. åœ¨é¡µé¢**å³ä¾§è¾¹æ **æ‰¾åˆ° **Account ID**
4. å¤åˆ¶ä¿å­˜

- ğŸ”— API Token è·å–åœ°å€ï¼šhttps://dash.cloudflare.com/profile/api-tokens


### 2. Supabase
- [x] **Project URL** - æ ¼å¼ï¼š`https://xxxxx.supabase.co`
- [x] **Anon Key** - å…¬å¼€å¯†é’¥ï¼Œç”¨äºå‰ç«¯
- [x] **Service Role Key** - ç§å¯†å¯†é’¥ï¼Œç”¨äºåç«¯
- ğŸ”— åˆ›å»ºé¡¹ç›®ï¼šhttps://supabase.com/dashboard/projects
- ğŸ”— è·å– Keysï¼šé¡¹ç›® â†’ Settings â†’ API

**å·²åˆ›å»ºé¡¹ç›®ä¿¡æ¯ï¼š**
- è´¦å·ï¼šGitHub è´¦å· ZhangHui88888
- Organizationï¼šZhangHui88888's Org
- Project nameï¼šXKTRUCK
- Database passwordï¼šYyIIytmU9B8EHoEC
- Regionï¼šAsia-Pacific
- Project URLï¼šhttps://xktruck.supabase.co
- Anon Key (Publishable)ï¼šsb_publishable_VjrbThKmSR4LvYEeotnMlw_d8IZqYs4
- Service Role Key (Secret)ï¼šsb_secret_CUSHbAvZlq7M-4OJgXby6g_cEV5aYHd


### 3. Resend
- [x] **API Key** - ç”¨äºå‘é€é‚®ä»¶é€šçŸ¥
- ğŸ”— è·å–åœ°å€ï¼šhttps://resend.com/api-keys

**å·²åˆ›å»ºï¼š**
- è´¦å·ï¼šGitHub è´¦å·ï¼ˆharry.zhang592802ï¼‰
- API Key Nameï¼šXKTRUCK-Production
- API Keyï¼šre_jf9cgopc_LXyEDqAR7tPjxmEYRti8nazh

### 4. DeepSeekï¼ˆAI å¤§æ¨¡å‹ï¼‰
- [x] **DeepSeek API Key** - æ ¼å¼ï¼š`sk-...`
- ğŸ”— æ³¨å†Œåœ°å€ï¼šhttps://platform.deepseek.com
- ğŸ”— è·å– API Keyï¼šhttps://platform.deepseek.com/api_keys

**ä¼˜åŠ¿ï¼š** ä»·æ ¼æ¯” OpenAI ä¾¿å®œçº¦ 10 å€ï¼Œæ€§èƒ½æ¥è¿‘ GPT-4o

**å·²åˆ›å»ºï¼š**
- è´¦å·ï¼šå·²æ³¨å†Œ
- API Keyï¼šsk-e1cb78491f84483fbf9e550f7321603b

### 5. WhatsApp Business
- [ ] **WhatsApp Business Account ID**
- [ ] **Phone Number ID** - ç»‘å®šçš„æ‰‹æœºå· ID
- [ ] **Access Token** - ç”¨äºå‘é€æ¶ˆæ¯çš„ä»¤ç‰Œ
- [ ] **Webhook Verify Token** - è‡ªå®šä¹‰å­—ç¬¦ä¸²ï¼Œç”¨äºéªŒè¯ Webhook
- ğŸ”— åˆ›å»º Appï¼šhttps://developers.facebook.com/apps/create/
- ğŸ”— WhatsApp è®¾ç½®ï¼šhttps://developers.facebook.com/apps â†’ ä½ çš„App â†’ WhatsApp â†’ API Setup

**è¿›åº¦ï¼š**
- è´¦å·ï¼šFacebook è´¦å·ï¼ˆå¼ è¾‰ï¼‰
- Meta Business Suiteï¼šå·²ç™»å½•
- Meta å¼€å‘è€…è´¦æˆ·ï¼šå¾…éªŒè¯ï¼ˆå¤§é™†æ‰‹æœºæ”¶ä¸åˆ°éªŒè¯ç ï¼Œéœ€ç”¨æ¸¯æ¾³æˆ–æµ·å¤–æ‰‹æœºå·ï¼‰
- çŠ¶æ€ï¼šâ¸ï¸ æš‚åœï¼Œåç»­å†é…ç½®

**é…ç½®æ­¥éª¤ï¼ˆä»£ç å·²å®ç°ï¼‰ï¼š**
1. å®Œæˆ Meta å¼€å‘è€…è´¦æˆ·éªŒè¯
2. åˆ›å»º Meta Business App
3. æ·»åŠ  WhatsApp äº§å“
4. è·å– Phone Number ID å’Œ Access Token
5. é…ç½® Webhook URLï¼š`https://your-worker.workers.dev/api/whatsapp/webhook`
6. è®¾ç½® Webhook Verify Tokenï¼ˆè‡ªå®šä¹‰å­—ç¬¦ä¸²ï¼‰
7. åœ¨ Worker ä¸­è®¾ç½® Secretsï¼š
   ```bash
   wrangler secret put WHATSAPP_PHONE_NUMBER_ID
   wrangler secret put WHATSAPP_ACCESS_TOKEN
   wrangler secret put WHATSAPP_VERIFY_TOKEN
   ```

---

## ä¸‰ã€ä¸šåŠ¡æ•°æ®

### 1. åŸŸå
- [x] **åŸŸå** - `xk-truck.cn`
- [x] åŸŸåå·²æ¥å…¥ Cloudflare DNS

**å·²é…ç½®ï¼š**
- åŸŸåï¼šxk-truck.cn
- æ³¨å†Œå•†ï¼šé˜¿é‡Œäº‘
- æ³¨å†Œæ—¶é—´ï¼š2025-12-10
- åˆ°æœŸæ—¶é—´ï¼š2026-12-10
- DNS æœåŠ¡å™¨ï¼šaria.ns.cloudflare.com / jack.ns.cloudflare.com
- Cloudflare è®¡åˆ’ï¼šFree
- çŠ¶æ€ï¼šâœ… DNS å·²ç”Ÿæ•ˆï¼ŒCloudflare å·²æ¿€æ´»

#### åŸŸåé…ç½®æ­¥éª¤ï¼ˆå·²å®Œæˆï¼‰ï¼š
1. åœ¨é˜¿é‡Œäº‘è´­ä¹°åŸŸå `xk-truck.cn`
2. ç™»å½• Cloudflare â†’ Add a site â†’ è¾“å…¥ `xk-truck.cn`
3. é€‰æ‹© Free å…è´¹è®¡åˆ’
4. è·å– Cloudflare NS æœåŠ¡å™¨åœ°å€ï¼š
   - `aria.ns.cloudflare.com`
   - `jack.ns.cloudflare.com`
5. å›åˆ°é˜¿é‡Œäº‘ â†’ åŸŸåç®¡ç† â†’ DNSä¿®æ”¹
6. å°†åŸ DNS æœåŠ¡å™¨æ”¹ä¸º Cloudflare çš„ NS åœ°å€
7. ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆå‡ åˆ†é’Ÿåˆ° 24 å°æ—¶ï¼‰

### 2. å…¬å¸/äº§å“ä¿¡æ¯
- [x] **å…¬å¸åç§°**ï¼ˆä¸­è‹±æ–‡ï¼‰
- [x] **å…¬å¸ç®€ä»‹**ï¼ˆè‹±æ–‡ï¼Œç”¨äºç½‘ç«™ About é¡µé¢ï¼‰
- [x] **è”ç³»é‚®ç®±** - harry.zhang592802@gmail.com
- [x] **WhatsApp æ‰‹æœºå·** - +86 13062870118

**å…¬å¸ä¿¡æ¯ï¼ˆæ¥æº xklamp.comï¼‰ï¼š**
- å“ç‰Œåï¼šXKLAMP / XKTRUCK
- ä¸­æ–‡åï¼šæ˜Ÿç§‘è½¦ç¯ï¼ˆå¾…ç¡®è®¤ï¼‰
- ä¸»è¥äº§å“ï¼šå¡è½¦å¤§ç¯ã€åè§†é•œã€å¤–é¥°ä»¶
- é€‚é…å“ç‰Œï¼šVOLVOã€SCANIAã€MERCEDES-BENZã€MANã€IVECOã€RENAULTã€DAFã€FORD
- å·¥å‚é¢ç§¯ï¼š35,000ã¡ï¼ˆä¸­å›½ï¼‰
- ç‰¹ç‚¹ï¼šADB è®¤è¯ã€OEM å“è´¨ã€å‚å®¶ç›´é”€

**å…¬å¸ç®€ä»‹ï¼ˆè‹±æ–‡ï¼‰ï¼š**
```
XKLAMP is a leading manufacturer of truck headlamps, mirrors and exterior parts 
for VOLVO, SCANIA, MERCEDES-BENZ, MAN, IVECO, RENAULT, DAF and FORD. 

With a 35,000ã¡ China factory, strict quality control and fast global delivery, 
we offer competitive wholesale prices and reliable aftermarket truck parts.

All products are ADB-certified with OEM quality standards.
```


### 3. äº§å“æ•°æ®
- [x] **äº§å“æ¥æº** - ä» xklamp.com è‡ªåŠ¨åŒæ­¥
- [x] **åŒæ­¥æ–¹å¼** - ç®¡ç†åå°ä¸€é”®åŒæ­¥æŒ‰é’®

**äº§å“åŒæ­¥åŠŸèƒ½ï¼ˆå·²è§„åˆ’ï¼‰ï¼š**
- æºç«™ï¼šhttps://xklamp.com
- å“ç‰Œï¼šVOLVOã€BENZã€SCANIAã€DAFã€IVECOã€MANã€RENAULTã€FORD
- åŒæ­¥å†…å®¹ï¼šäº§å“åç§°ã€æè¿°ã€è§„æ ¼ã€OEç¼–å·ã€å›¾ç‰‡
- å›¾ç‰‡å­˜å‚¨ï¼šCloudflare R2ï¼ˆå…è´¹ 10GBï¼‰
- æ•°æ®å­˜å‚¨ï¼šSupabase products è¡¨
- è§¦å‘æ–¹å¼ï¼šç®¡ç†åå°æ‰‹åŠ¨è§¦å‘ / æ¯å‘¨è‡ªåŠ¨åŒæ­¥

**ç®¡ç†åå°é¡µé¢ï¼š**
```
/admin              â†’ ç™»å½•é¡µ
/admin/dashboard    â†’ ä»ªè¡¨ç›˜
/admin/products     â†’ äº§å“ç®¡ç† + åŒæ­¥æŒ‰é’®
/admin/inquiries    â†’ è¯¢ç›˜åˆ—è¡¨
/admin/settings     â†’ ç³»ç»Ÿè®¾ç½®
```

### 4. çŸ¥è¯†åº“å†…å®¹ï¼ˆç”¨äº AI å®¢æœï¼‰
- [x] **å¸¸è§é—®é¢˜ FAQ**ï¼ˆè‹±æ–‡ï¼‰- å·²å¯¼å…¥åˆå§‹ FAQ
- [ ] **äº§å“è¯¦ç»†ä»‹ç»** - ä» xklamp.com åŒæ­¥
- [ ] **å…¬å¸ä¼˜åŠ¿ã€èµ„è´¨**
- [ ] **ä»˜æ¬¾æ–¹å¼ã€äº¤è´§æœŸ**
- [ ] **å”®åæ”¿ç­–**
- [x] **å®¢æˆ·å¯¹è¯è®°å½•** - é€šè¿‡ WhatsApp å¯¹è¯è‡ªåŠ¨æ”¶é›†

**AI å®¢æœåŠŸèƒ½è§„åˆ’ï¼š**
- ç®¡ç†åå°å¯å¼€å…³ AI è‡ªåŠ¨å›å¤
- å¯¹è¯è®°å½•è‡ªåŠ¨ä¿å­˜åˆ° Supabase
- å®šæœŸä»å¯¹è¯ä¸­æå– FAQ è®­ç»ƒçŸ¥è¯†åº“
- åˆæœŸå¯å…³é—­ AIï¼Œæ‰‹åŠ¨å›å¤ç§¯ç´¯æ•°æ®

---

## å››ã€é…ç½®ä¿¡æ¯æ±‡æ€»è¡¨

è¯·å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼ˆ**è¯·å‹¿æ³„éœ²ç»™ä»–äºº**ï¼‰ï¼š

```
# ===== Cloudflare =====
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=

# ===== Supabase =====
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=

# ===== Resend =====
RESEND_API_KEY=

# ===== DeepSeek AI =====
DEEPSEEK_API_KEY=

# ===== WhatsApp =====
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=

# ===== ä¸šåŠ¡ä¿¡æ¯ =====
COMPANY_NAME=
CONTACT_EMAIL=
WHATSAPP_NUMBER=
DOMAIN=
```

---

## äº”ã€WhatsApp Business API ç”³è¯·æµç¨‹

1. æ³¨å†Œ Meta Business è´¦å·ï¼šhttps://business.facebook.com
2. åˆ›å»º Business Appï¼šhttps://developers.facebook.com/apps
3. æ·»åŠ  WhatsApp äº§å“åˆ° App
4. ç»‘å®šæ‰‹æœºå·ï¼ˆéœ€éªŒè¯ï¼‰
5. è·å– Access Token å’Œ Phone Number ID
6. é…ç½® Webhook URLï¼ˆéƒ¨ç½² Worker åå¡«å†™ï¼‰

**æ³¨æ„ï¼š** WhatsApp Business API éœ€è¦ä¼ä¸šéªŒè¯ï¼Œå®¡æ ¸çº¦ 1-3 å¤©ã€‚

---

## å…­ã€å®‰å…¨æé†’

âš ï¸ **é‡è¦ï¼š**
- æ‰€æœ‰ API Key å’Œ Token éƒ½æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å‹¿å…¬å¼€
- ä¸è¦å°†å¯†é’¥æäº¤åˆ° Git ä»“åº“
- å»ºè®®ä½¿ç”¨ Cloudflare Workers çš„ç¯å¢ƒå˜é‡å­˜å‚¨å¯†é’¥
- å®šæœŸè½®æ¢ API Key

---

## ä¸ƒã€SEO/GEO å·¥å…·è´¦å·

### 1. Google Search Consoleï¼ˆå¿…éœ€ï¼‰
- [x] **æ³¨å†Œåœ°å€**ï¼šhttps://search.google.com/search-console
- [x] **éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ**ï¼ˆé€šè¿‡ DNS éªŒè¯ï¼‰
- [x] **æäº¤ sitemap.xml**

**å·²é…ç½®ï¼š**
- åŸŸåèµ„æºï¼šxk-truck.cnï¼ˆå·²éªŒè¯ï¼‰
- URL å‰ç¼€èµ„æºï¼šhttps://xk-truck.cnï¼ˆå·²éªŒè¯ï¼‰
- Sitemapï¼šâœ… å·²æäº¤ sitemap-index.xml
- çŠ¶æ€ï¼šâœ… ç­‰å¾… Google ç´¢å¼•ï¼ˆé€šå¸¸ 1-3 å¤©ï¼‰

### 2. Bing Webmaster Toolsï¼ˆæ¨èï¼‰
- [ ] **æ³¨å†Œåœ°å€**ï¼šhttps://www.bing.com/webmasters
- [ ] **å¯ä» GSC å¯¼å…¥éªŒè¯**

### 3. Google Analytics 4ï¼ˆå¯é€‰ï¼‰
- [ ] **æ³¨å†Œåœ°å€**ï¼šhttps://analytics.google.com
- [ ] **è·å– Measurement ID**ï¼ˆæ ¼å¼ï¼š`G-XXXXXXX`ï¼‰

---

## å…«ã€åŠ¨æ€å…³é”®è¯æ›´æ–°ï¼ˆæ–¹æ¡ˆ Cï¼‰

å¦‚æœä½¿ç”¨å…¨è‡ªåŠ¨ SEO å…³é”®è¯æ›´æ–°æ–¹æ¡ˆï¼Œè¿˜éœ€é…ç½®ï¼š

### 1. Google Cloud æœåŠ¡è´¦å·ï¼ˆç”¨äº GSC APIï¼‰
- [ ] **åˆ›å»ºé¡¹ç›®**ï¼šhttps://console.cloud.google.com
- [ ] **å¯ç”¨ Search Console API**
- [ ] **åˆ›å»ºæœåŠ¡è´¦å·**ï¼Œä¸‹è½½ JSON å¯†é’¥
- [ ] **åœ¨ GSC ä¸­æ·»åŠ æœåŠ¡è´¦å·ä¸ºç”¨æˆ·**ï¼ˆåªè¯»æƒé™ï¼‰

### 2. GitHub Secrets
åœ¨ä»“åº“ Settings â†’ Secrets and variables â†’ Actions ä¸­æ·»åŠ ï¼š

| Secret åç§° | è¯´æ˜ |
|-------------|------|
| `GSC_CREDENTIALS` | Google Cloud æœåŠ¡è´¦å· JSON å†…å®¹ |
| `GSC_SITE_URL` | ç½‘ç«™ URLï¼Œå¦‚ `https://yourdomain.com` |
| `SUPABASE_URL` | Supabase é¡¹ç›® URL |
| `SUPABASE_KEY` | Supabase service_role key |
| `DEEPSEEK_API_KEY` | DeepSeek API Keyï¼ˆç”¨äº Chat + Embeddingï¼‰ |
| `RESEND_API_KEY` | Resend API Key |
| `NOTIFY_EMAIL` | æ¥æ”¶ SEO å‘¨æŠ¥çš„é‚®ç®± |
| `CF_DEPLOY_HOOK` | Cloudflare Pages éƒ¨ç½²é’©å­ |

### 3. Cloudflare Deploy Hook
- [ ] åœ¨ Cloudflare Pages â†’ é¡¹ç›®è®¾ç½® â†’ æ„å»ºå’Œéƒ¨ç½² â†’ éƒ¨ç½²é’©å­
- [ ] åˆ›å»ºé’©å­ï¼Œå¤åˆ¶ URL ä¸­çš„ ID éƒ¨åˆ†

---

## ä¹ã€Supabase æ•°æ®åº“è¡¨

éƒ¨ç½²å‰éœ€åœ¨ Supabase ä¸­åˆ›å»ºä»¥ä¸‹è¡¨ï¼š

### 1. åŸºç¡€è¡¨ï¼ˆcreate_tables.sqlï¼‰
æ‰§è¡Œ `xk-truck-worker/sql/create_tables.sql`ï¼ŒåŒ…å«ï¼š
- `products` - äº§å“è¡¨
- `brands` - å“ç‰Œè¡¨
- `categories` - åˆ†ç±»è¡¨
- `inquiries` - è¯¢ç›˜è¡¨
- `conversations` - å¯¹è¯è¡¨
- `settings` - è®¾ç½®è¡¨

### 2. çŸ¥è¯†åº“è¡¨ï¼ˆknowledge-base.sqlï¼‰
æ‰§è¡Œ `xk-truck-worker/sql/knowledge-base.sql`ï¼ŒåŒ…å«ï¼š
- `knowledge_base` - çŸ¥è¯†åº“è¡¨ï¼ˆæ”¯æŒå…¨æ–‡æœç´¢ï¼‰
- åˆå§‹ç¤ºä¾‹æ•°æ®ï¼ˆå…¬å¸ä¿¡æ¯ã€äº§å“ä¿¡æ¯ã€FAQï¼‰

### 3. WhatsApp è¡¨ï¼ˆwhatsapp-tables.sqlï¼‰
æ‰§è¡Œ `xk-truck-worker/sql/whatsapp-tables.sql`ï¼ŒåŒ…å«ï¼š
- `whatsapp_conversations` - WhatsApp å¯¹è¯è¡¨
- `whatsapp_messages` - WhatsApp æ¶ˆæ¯è¡¨
- `whatsapp_stats` - ç»Ÿè®¡è§†å›¾

### 4. SEO é…ç½®è¡¨ï¼ˆå¯é€‰ï¼Œæ–¹æ¡ˆ Cï¼‰
```sql
CREATE TABLE page_seo (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  page_path TEXT UNIQUE NOT NULL,
  title TEXT,
  description TEXT,
  keywords TEXT[],
  og_image TEXT,
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### 5. å…³é”®è¯è¿½è¸ªè¡¨ï¼ˆå¯é€‰ï¼Œæ–¹æ¡ˆ Cï¼‰
```sql
CREATE TABLE keyword_performance (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  keyword TEXT NOT NULL,
  impressions INT,
  clicks INT,
  position DECIMAL,
  recorded_at DATE,
  UNIQUE(keyword, recorded_at)
);
```

### 6. AI çˆ¬è™«æ—¥å¿—è¡¨ï¼ˆå¯é€‰ï¼ŒGEO ç›‘æ§ï¼‰
```sql
CREATE TABLE ai_bot_visits (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  bot TEXT,
  path TEXT,
  timestamp TIMESTAMPTZ DEFAULT NOW()
);
```

---

## åã€é…ç½®ä¿¡æ¯æ±‡æ€»è¡¨ï¼ˆæ›´æ–°ç‰ˆï¼‰

```
# ===== Cloudflare =====
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_API_TOKEN=
CF_DEPLOY_HOOK=

# ===== Supabase =====
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=

# ===== Resend =====
RESEND_API_KEY=

# ===== DeepSeek AI =====
DEEPSEEK_API_KEY=

# ===== WhatsApp =====
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_VERIFY_TOKEN=

# ===== Google (SEO) =====
GSC_SITE_URL=
GSC_CREDENTIALS=ï¼ˆJSON æ–‡ä»¶å†…å®¹ï¼‰
GA4_MEASUREMENT_ID=

# ===== ä¸šåŠ¡ä¿¡æ¯ =====
COMPANY_NAME=
CONTACT_EMAIL=
NOTIFY_EMAIL=
WHATSAPP_NUMBER=
DOMAIN=
```

---

## åä¸€ã€éƒ¨ç½²æ­¥éª¤

### 11.1 éƒ¨ç½²å‰ç«¯ï¼ˆCloudflare Pagesï¼‰

```bash
# æ¨é€ä»£ç åè‡ªåŠ¨éƒ¨ç½²
git add -A
git commit -m "feat: update frontend"
git push
```

æˆ–æ‰‹åŠ¨è§¦å‘ï¼šCloudflare Pages â†’ Deployments â†’ Retry

### 11.2 éƒ¨ç½²åç«¯ï¼ˆCloudflare Workerï¼‰

```bash
cd xk-truck-worker
wrangler deploy --env=""
```

### 11.3 é…ç½® Worker å¯†é’¥

```bash
cd xk-truck-worker

# Supabase
wrangler secret put SUPABASE_URL
# è¾“å…¥: https://xktruck.supabase.co

wrangler secret put SUPABASE_SERVICE_KEY
# è¾“å…¥: sb_secret_xxxxx

# DeepSeek AI
wrangler secret put DEEPSEEK_API_KEY
# æ³¨æ„ï¼šå˜é‡åæ˜¯ DEEPSEEK_API_KEYï¼ˆä¸æ˜¯ DEEPSEEKï¼‰
# è¾“å…¥: sk-xxxxx

# Resend é‚®ä»¶
wrangler secret put RESEND_API_KEY
# è¾“å…¥: re_xxxxx

# é€šçŸ¥é‚®ç®±
wrangler secret put NOTIFY_EMAIL
# è¾“å…¥: harry.zhang592802@gmail.com

# ç®¡ç† API Keyï¼ˆå¯é€‰ï¼Œç”¨äºè®¾ç½®æ¥å£é‰´æƒï¼‰
wrangler secret put ADMIN_API_KEY
# è¾“å…¥: è‡ªå®šä¹‰å¼ºå¯†ç 

# WhatsAppï¼ˆå¯é€‰ï¼Œå¾…é…ç½®ï¼‰
# wrangler secret put WHATSAPP_PHONE_NUMBER_ID
# wrangler secret put WHATSAPP_ACCESS_TOKEN
# wrangler secret put WHATSAPP_VERIFY_TOKEN
```

### 11.4 é…ç½® Vectorizeï¼ˆå‘é‡æœç´¢ï¼‰

#### ä»€ä¹ˆæ˜¯ Vectorizeï¼Ÿ

Vectorize æ˜¯ Cloudflare çš„å‘é‡æ•°æ®åº“æœåŠ¡ï¼Œç”¨äºå­˜å‚¨å’Œæœç´¢æ–‡æœ¬å‘é‡ï¼ˆEmbeddingsï¼‰ã€‚

**ä¸ºä»€ä¹ˆéœ€è¦ Vectorizeï¼Ÿ**
- **è¯­ä¹‰æœç´¢**ï¼šç†è§£é—®é¢˜çš„æ„æ€ï¼Œè€Œä¸åªæ˜¯å…³é”®è¯åŒ¹é…
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­æ–‡é—®é¢˜ä¹Ÿèƒ½æœåˆ°è‹±æ–‡ç­”æ¡ˆ
- **é«˜æ€§èƒ½**ï¼šæ¯«ç§’çº§æœç´¢å“åº”
- **å…è´¹é¢åº¦å¤§**ï¼š500 ä¸‡å‘é‡ã€3000 ä¸‡æŸ¥è¯¢/æœˆ

#### æ­¥éª¤ 1ï¼šåˆ›å»ºå‘é‡ç´¢å¼•

åœ¨ `xk-truck-worker` ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
# åˆ›å»ºå‘é‡ç´¢å¼•
# --dimensions=1024: DeepSeek Embedding æ¨¡å‹çš„è¾“å‡ºç»´åº¦
# --metric=cosine: ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
wrangler vectorize create xktruck-knowledge --dimensions=1024 --metric=cosine
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
âœ… Successfully created index 'xktruck-knowledge'
ğŸ“‹ Index ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
ğŸ“ Dimensions: 1024
ğŸ“ Metric: cosine
```

#### æ­¥éª¤ 2ï¼šéƒ¨ç½² Worker

```bash
# Vectorize ç»‘å®šä¼šè‡ªåŠ¨é…ç½®ï¼ˆåœ¨ wrangler.toml ä¸­å·²å®šä¹‰ï¼‰
wrangler deploy
```

**wrangler.toml ä¸­çš„é…ç½®ï¼š**
```toml
[[vectorize]]
binding = "VECTORIZE"
index_name = "xktruck-knowledge"
```

> **æ³¨æ„**ï¼šEmbedding ä½¿ç”¨ç°æœ‰çš„ `DEEPSEEK_API_KEY`ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

#### æ­¥éª¤ 3ï¼šè¿ç§»ç°æœ‰çŸ¥è¯†åº“ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ çš„ Supabase `knowledge_base` è¡¨ä¸­å·²æœ‰æ•°æ®ï¼Œéœ€è¦è¿ç§»åˆ° Vectorizeã€‚

**æ–¹æ³• Aï¼šæ‰¹é‡è¿ç§» APIï¼ˆæ¨èï¼‰**

```bash
# è°ƒç”¨è¿ç§» APIï¼ˆè‡ªåŠ¨å°† Supabase çŸ¥è¯†åº“è½¬ä¸ºå‘é‡å­˜å…¥ Vectorizeï¼‰
curl -X POST https://your-worker.workers.dev/api/knowledge/migrate
```

**è¿”å›ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "message": "Migration completed: 20 succeeded, 0 failed",
  "migrated": 20,
  "failed": 0
}
```

**æ–¹æ³• Bï¼šæ‰‹åŠ¨è¿ç§»è„šæœ¬**

```javascript
// åœ¨æœ¬åœ°è¿è¡Œçš„è¿ç§»è„šæœ¬ç¤ºä¾‹
const WORKER_URL = 'https://your-worker.workers.dev';

async function migrateKnowledge() {
  // 1. ä» Supabase è·å–æ‰€æœ‰çŸ¥è¯†æ¡ç›®
  const { data } = await supabase.from('knowledge_base').select('*');
  
  // 2. é€æ¡è°ƒç”¨ API é‡æ–°ä¿å­˜ï¼ˆä¼šè‡ªåŠ¨ç”Ÿæˆå‘é‡ï¼‰
  for (const item of data) {
    await fetch(`${WORKER_URL}/api/knowledge/add`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        question: item.metadata?.question || item.content,
        answer: item.metadata?.answer || '',
        metadata: { migrated: true }
      })
    });
  }
}
```

#### æ­¥éª¤ 4ï¼šéªŒè¯ Vectorize

**æµ‹è¯•å‘é‡æœç´¢ï¼š**
```bash
# å‘é€æµ‹è¯•æ¶ˆæ¯ï¼Œæ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†å‘é‡æœç´¢
curl -X POST https://your-worker.workers.dev/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ ä»¬æœ‰ä»€ä¹ˆäº§å“ï¼Ÿ", "sessionId": "test-123"}'
```

**æ£€æŸ¥å“åº”ï¼š**
- AI å›å¤åº”è¯¥åŸºäºçŸ¥è¯†åº“å†…å®¹
- æŸ¥çœ‹ Worker æ—¥å¿—ï¼š`wrangler tail`
- æ—¥å¿—ä¸­åº”è¯¥æ˜¾ç¤º "Vector search results: X items"

**æŸ¥çœ‹ Vectorize çŠ¶æ€ï¼š**
```bash
# åˆ—å‡ºæ‰€æœ‰å‘é‡ç´¢å¼•
wrangler vectorize list

# æŸ¥çœ‹ç´¢å¼•è¯¦æƒ…
wrangler vectorize get xktruck-knowledge
```

#### å·¥ä½œåŸç†

```
ç”¨æˆ·æé—®ï¼š"VOLVO å¤§ç¯å¤šå°‘é’±ï¼Ÿ"
    â†“
1. æå–å…³é”®è¯ï¼š"VOLVO headlamp price"
    â†“
2. ç”ŸæˆæŸ¥è¯¢å‘é‡ (DeepSeek Embedding API)
   [0.15, -0.42, 0.81, ..., 0.23]  // 1024 ä¸ªæ•°å­—
    â†“
3. Vectorize ç›¸ä¼¼åº¦æœç´¢
   æ‰¾åˆ°æœ€ç›¸ä¼¼çš„ 3 æ¡çŸ¥è¯†ï¼ˆscore >= 0.7ï¼‰
    â†“
4. è¿”å›ç›¸å…³çŸ¥è¯†ç»™ AI
    â†“
5. AI åŸºäºçŸ¥è¯†ç”Ÿæˆå›ç­” (DeepSeek Chat)
```

#### æ•…éšœå›é€€æœºåˆ¶

å¦‚æœ Vectorize ä¸å¯ç”¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ° Supabase å…¨æ–‡æœç´¢ï¼š

```javascript
// ä»£ç ä¸­çš„å›é€€é€»è¾‘
try {
  // å°è¯•å‘é‡æœç´¢
  knowledgeContext = await searchVectors(env, query, 3);
} catch (vectorError) {
  console.error('Vector search failed, falling back to text search');
  // å›é€€åˆ°å…¨æ–‡æœç´¢
  knowledgeContext = await supabaseTextSearch(env, query, 3);
}
```

è¿™ç¡®ä¿å³ä½¿ Vectorize å‡ºç°é—®é¢˜ï¼ŒAI å®¢æœä»èƒ½æ­£å¸¸å·¥ä½œã€‚

#### è´¹ç”¨è¯´æ˜

| é¡¹ç›® | å…è´¹é¢åº¦ | è¶…å‡ºå |
|------|----------|--------|
| Vectorize å­˜å‚¨ | 500 ä¸‡å‘é‡/æœˆ | $0.05/100 ä¸‡å‘é‡ |
| Vectorize æŸ¥è¯¢ | 3000 ä¸‡æŸ¥è¯¢/æœˆ | $0.01/100 ä¸‡æŸ¥è¯¢ |
| DeepSeek Embedding | æŒ‰é‡ä»˜è´¹ | $0.002/M tokens |

**é¢„ä¼°æˆæœ¬ï¼š**
- çŸ¥è¯†åº“ 100 æ¡ Ã— å¹³å‡ 200 tokens = 20,000 tokens â‰ˆ $0.00004
- æ¯å¤© 100 æ¬¡æŸ¥è¯¢ Ã— 30 å¤© = 3,000 æ¬¡æŸ¥è¯¢ï¼ˆè¿œä½äºå…è´¹é¢åº¦ï¼‰
- **æœˆæˆæœ¬**: å‡ ä¹ä¸º $0

#### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ˜¯ 1024 ç»´åº¦ï¼Ÿ**
A: DeepSeek Embedding æ¨¡å‹è¾“å‡º 1024 ç»´å‘é‡ï¼Œå¿…é¡»åŒ¹é…ã€‚

**Q: ä»€ä¹ˆæ˜¯ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆcosineï¼‰ï¼Ÿ**
A: è®¡ç®—ä¸¤ä¸ªå‘é‡å¤¹è§’çš„ä½™å¼¦å€¼ï¼ŒèŒƒå›´ -1 åˆ° 1ï¼Œè¶Šæ¥è¿‘ 1 è¶Šç›¸ä¼¼ã€‚

**Q: ä¸ºä»€ä¹ˆé˜ˆå€¼æ˜¯ 0.7ï¼Ÿ**
A: ç»éªŒå€¼ï¼Œ0.7 ä»¥ä¸Šè¡¨ç¤ºæ¯”è¾ƒç›¸å…³ï¼Œå¯æ ¹æ®å®é™…æ•ˆæœè°ƒæ•´ã€‚

**Q: å¦‚ä½•æ›´æ–°çŸ¥è¯†åº“ï¼Ÿ**
A: 
- è‡ªåŠ¨å­¦ä¹ ï¼šAI å¯¹è¯ä¸­è‡ªåŠ¨æ·»åŠ æ–°çŸ¥è¯†
- æ‰‹åŠ¨æ·»åŠ ï¼š`POST /api/knowledge/add`
- äººå·¥å®¡æ ¸ï¼šç®¡ç†åå°å®¡æ ¸å¯¹è¯åæ·»åŠ 

**Q: å¦‚ä½•åˆ é™¤é”™è¯¯çš„çŸ¥è¯†ï¼Ÿ**
A: ç›®å‰éœ€è¦åœ¨ Supabase ä¸­åˆ é™¤ï¼Œç„¶åé‡æ–°è¿ç§»åˆ° Vectorizeã€‚

**Q: Vectorize å’Œ Supabase çŸ¥è¯†åº“çš„å…³ç³»ï¼Ÿ**
A:
- Supabaseï¼šå­˜å‚¨åŸå§‹æ–‡æœ¬ï¼ˆå¯ç¼–è¾‘ã€å¯æŸ¥è¯¢ï¼‰
- Vectorizeï¼šå­˜å‚¨å‘é‡ç´¢å¼•ï¼ˆåªç”¨äºæœç´¢ï¼‰
- ä¸¤è€…åŒæ­¥ï¼šæ·»åŠ çŸ¥è¯†æ—¶åŒæ—¶å­˜å…¥ä¸¤è¾¹

---

## åäºŒã€æ—¥å¸¸è¿ç»´

### 12.1 æŸ¥çœ‹ Worker æ—¥å¿—

```bash
cd xk-truck-worker
wrangler tail
```

### 12.2 æ·»åŠ åšå®¢æ–‡ç« 

1. åœ¨ `xk-truck-frontend/src/content/blog/` åˆ›å»º `.md` æ–‡ä»¶
2. æ·»åŠ  frontmatterï¼ˆtitle, description, pubDateï¼‰
3. æäº¤å¹¶æ¨é€

### 12.3 åŒæ­¥äº§å“æ•°æ®

```bash
cd xk-truck-frontend
npm run sync:products
```

### 12.4 çŸ¥è¯†åº“ç®¡ç†

**æ‰‹åŠ¨æ·»åŠ çŸ¥è¯†ï¼š**
```bash
curl -X POST https://your-worker.workers.dev/api/knowledge/add \
  -H "Content-Type: application/json" \
  -d '{
    "question": "What is your MOQ?",
    "answer": "Our minimum order quantity is 5-10 pieces for most items.",
    "metadata": {"category": "faq"}
  }'
```

**å®¡æ ¸å¯¹è¯å¹¶å…¥åº“ï¼š**
```bash
# è·å–å¾…å®¡æ ¸å¯¹è¯
curl https://your-worker.workers.dev/api/knowledge/pending

# å®¡æ ¸å¹¶å…¥åº“
curl -X POST https://your-worker.workers.dev/api/knowledge/review \
  -H "Content-Type: application/json" \
  -d '{
    "conversationId": "uuid",
    "approved": true,
    "question": "ç”¨æˆ·é—®é¢˜",
    "answer": "AIå›å¤"
  }'
```

### 12.5 æŸ¥çœ‹ Worker æ—¥å¿—

```bash
cd xk-truck-worker
wrangler tail
```

### 12.6 å¥åº·æ£€æŸ¥

```bash
curl https://your-worker.workers.dev/api/health
```

---

## åä¸‰ã€API ç«¯ç‚¹æ–‡æ¡£

### 13.1 è¯¢ç›˜ API

**POST /api/inquiry**
- æäº¤è¯¢ç›˜è¡¨å•
- ä¿å­˜åˆ° Supabaseï¼Œå‘é€é‚®ä»¶é€šçŸ¥

### 13.2 AI å®¢æœ API

**POST /api/chat**
- æ™®é€šå¯¹è¯ï¼ˆJSON å“åº”ï¼‰

**POST /api/chat/stream**
- æµå¼å¯¹è¯ï¼ˆSSE å“åº”ï¼‰
- å®æ—¶æ˜¾ç¤º AI å›å¤

### 13.3 è®¾ç½® API

**GET /api/settings**
- è·å– AI è®¾ç½®ï¼ˆå¼€å…³çŠ¶æ€ã€æ¬¢è¿æ¶ˆæ¯ç­‰ï¼‰

**PUT /api/settings**
- æ›´æ–° AI è®¾ç½®ï¼ˆéœ€è¦ Authorization headerï¼‰

### 13.4 ç®¡ç†åå° API

**GET /api/admin/stats**
- è·å–ç»Ÿè®¡æ•°æ®ï¼ˆä»Šæ—¥è¯¢ç›˜ã€æ€»è¯¢ç›˜ã€äº§å“æ•°ï¼‰

**GET /api/admin/inquiries**
- è·å–è¯¢ç›˜åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æœç´¢ï¼‰

**PUT /api/admin/inquiries/:id**
- æ›´æ–°è¯¢ç›˜çŠ¶æ€

**GET /api/admin/conversations/sessions**
- è·å–ä¼šè¯åˆ—è¡¨

**GET /api/admin/conversations/:sessionId**
- è·å–ä¼šè¯è¯¦æƒ…

### 13.5 WhatsApp API

**GET /api/whatsapp/webhook**
- Webhook éªŒè¯ï¼ˆMeta è°ƒç”¨ï¼‰

**POST /api/whatsapp/webhook**
- æ¥æ”¶ WhatsApp æ¶ˆæ¯

**GET /api/whatsapp/conversations**
- è·å–å¯¹è¯åˆ—è¡¨

**GET /api/whatsapp/conversations/:id/messages**
- è·å–å¯¹è¯æ¶ˆæ¯

### 13.6 çŸ¥è¯†åº“ API

**GET /api/knowledge/pending**
- è·å–å¾…å®¡æ ¸çš„å¯¹è¯

**POST /api/knowledge/review**
- å®¡æ ¸å¯¹è¯å¹¶å†³å®šæ˜¯å¦å…¥åº“

**POST /api/knowledge/add**
- æ‰‹åŠ¨æ·»åŠ çŸ¥è¯†æ¡ç›®

**POST /api/knowledge/migrate**
- è¿ç§»ç°æœ‰çŸ¥è¯†åº“åˆ° Vectorize

### 13.7 å¥åº·æ£€æŸ¥

**GET /api/health**
- æœåŠ¡çŠ¶æ€æ£€æŸ¥

---

## åå››ã€AI å®‰å…¨é…ç½®ï¼ˆé‡è¦ï¼‰

### 14.1 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®

AI å®¢æœçš„å®‰å…¨è§„åˆ™å·²æ·»åŠ åˆ°ä»£ç ä¸­ï¼Œéœ€è¦é‡æ–°éƒ¨ç½² Worker ä½¿å…¶ç”Ÿæ•ˆã€‚

**å®‰å…¨æœºåˆ¶ï¼š**
- âœ… ä»£ç å±‚æ£€æµ‹ï¼šè‡ªåŠ¨è¯†åˆ«æ•æ„Ÿé—®é¢˜ï¼ˆä»·æ ¼ã€è§„æ ¼ã€è´¨ä¿ã€è¿è¾“ã€åº“å­˜ï¼‰
- âœ… æç¤ºè¯è§„åˆ™ï¼šç¡¬ç¼–ç åœ¨ `deepseek.js` ä¸­ï¼Œå‘Šè¯‰ AI ä»€ä¹ˆè¯¥è¯´ã€ä»€ä¹ˆä¸è¯¥è¯´

### 14.2 éƒ¨ç½²æ­¥éª¤ï¼ˆ1 åˆ†é’Ÿï¼‰

```bash
cd xk-truck-worker
wrangler deploy
```

**æœŸæœ›ç»“æœï¼š**
```
âœ… Successfully deployed
URL: https://xk-truck-api.harry-zhang592802.workers.dev
```

### 14.3 æµ‹è¯•éªŒè¯ï¼ˆ1 åˆ†é’Ÿï¼‰

```bash
node test-safety.js
```

**æœŸæœ›ç»“æœï¼š**
```
âœ… é€šè¿‡: 9
âŒ å¤±è´¥: 0
ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
```

### 14.4 ç½‘ç«™æµ‹è¯•

è®¿é—® https://xk-truck.cnï¼Œæµ‹è¯•ï¼š
- "VOLVO å¤§ç¯å¤šå°‘é’±ï¼Ÿ" â†’ åº”è¯¥å¼•å¯¼è”ç³»ï¼ˆä¸çç¼–ä»·æ ¼ï¼‰
- "ä½ ä»¬æœ‰ VOLVO é…ä»¶å—ï¼Ÿ" â†’ å¯ä»¥ç›´æ¥å›ç­”

### 14.5 æŸ¥çœ‹æ—¥å¿—

```bash
wrangler tail
```

åº”è¯¥çœ‹åˆ°ï¼š
- `âœ… Vector search results: 3 items` - å‘é‡æœç´¢æˆåŠŸ
- `ğŸ›¡ï¸ Sensitive question detected: pricing` - æ£€æµ‹åˆ°æ•æ„Ÿé—®é¢˜

### 14.6 ä¿®æ”¹ç³»ç»Ÿæç¤ºè¯

å¦‚éœ€ä¿®æ”¹ AI çš„è¡Œä¸ºï¼Œç¼–è¾‘æ–‡ä»¶ï¼š
```
xk-truck-worker/src/lib/deepseek.js
```

æ‰¾åˆ° `DEFAULT_SYSTEM_PROMPT` å¸¸é‡ï¼Œä¿®æ”¹åé‡æ–°éƒ¨ç½²ï¼š
```bash
wrangler deploy
```

### 14.7 ç›¸å…³æ–‡æ¡£

- `docs/AI-SAFETY.md` - å®‰å…¨éªŒè¯æ–¹æ³•
- `xk-truck-worker/test-safety.js` - æµ‹è¯•è„šæœ¬
- `xk-truck-worker/src/lib/deepseek.js` - ç³»ç»Ÿæç¤ºè¯ä½ç½®

---

## åäº”ã€éƒ¨ç½²çŠ¶æ€

### åŸºç¡€éƒ¨ç½²
- âœ… Cloudflare åŸŸåé…ç½®
- âœ… å‰ç«¯éƒ¨ç½²ï¼ˆCloudflare Pagesï¼‰
- âœ… åç«¯éƒ¨ç½²ï¼ˆCloudflare Workerï¼‰
- âœ… Vectorize å‘é‡æ•°æ®åº“é…ç½®
- âœ… çŸ¥è¯†åº“å¯¼å…¥ï¼ˆSupabase + Vectorizeï¼‰
- â¸ï¸ WhatsApp Webhookï¼ˆä»£ç å·²å®ç°ï¼Œéœ€é…ç½® APIï¼‰

### SEO é…ç½®
- âœ… robots.txt å’Œ sitemap.xml
- âœ… Google Search Console éªŒè¯
- âœ… Schema.org ç»“æ„åŒ–æ•°æ®
- âœ… Google Analytics 4
- â³ Bing Webmaster Tools

### AI åŠŸèƒ½
- âœ… AI å®¢æœå¯¹è¯ï¼ˆæ™®é€š + æµå¼ï¼‰
- âœ… RAG çŸ¥è¯†åº“æ£€ç´¢ï¼ˆVectorize + Supabaseï¼‰
- âœ… çŸ¥è¯†åº“å­¦ä¹ åŠŸèƒ½
- âœ… å¤šè¯­è¨€æ”¯æŒ
- âœ… é‚®ä»¶é€šçŸ¥
- âœ… æ•æ„Ÿé—®é¢˜æ£€æµ‹ï¼ˆä»£ç å±‚ï¼‰
- â³ ç³»ç»Ÿæç¤ºè¯é…ç½®ï¼ˆéœ€æ‰§è¡Œ SQLï¼‰

---

*æœ€åæ›´æ–°: 2025-12-13*
